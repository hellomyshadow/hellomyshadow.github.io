<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JavaScript,">










<meta name="description" content="DOMDOM查询1. 通过domcument对象获取元素节点：     1. getElementById(&amp;quot;id&amp;quot;)：通过id属性获取一个元素节点对象；     2. getElementsByTagName(&amp;quot;tag&amp;quot;)：通过标签名获取一组元素节点对象；     2. getElementsByTagName(&amp;quot;*&amp;quot;)：支持通配符，获">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="JS-事件">
<meta property="og:url" content="http://hellomyshadow.github.io/2018/06/03/JS-事件/index.html">
<meta property="og:site_name" content="大麦田程序猿">
<meta property="og:description" content="DOMDOM查询1. 通过domcument对象获取元素节点：     1. getElementById(&amp;quot;id&amp;quot;)：通过id属性获取一个元素节点对象；     2. getElementsByTagName(&amp;quot;tag&amp;quot;)：通过标签名获取一组元素节点对象；     2. getElementsByTagName(&amp;quot;*&amp;quot;)：支持通配符，获">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-12-28T00:26:39.419Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JS-事件">
<meta name="twitter:description" content="DOMDOM查询1. 通过domcument对象获取元素节点：     1. getElementById(&amp;quot;id&amp;quot;)：通过id属性获取一个元素节点对象；     2. getElementsByTagName(&amp;quot;tag&amp;quot;)：通过标签名获取一组元素节点对象；     2. getElementsByTagName(&amp;quot;*&amp;quot;)：支持通配符，获">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://hellomyshadow.github.io/2018/06/03/JS-事件/">





  <title>JS-事件 | 大麦田程序猿</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">大麦田程序猿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hellomyshadow.github.io/2018/06/03/JS-事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="大麦田怪圈">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="大麦田程序猿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JS-事件</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-03T00:00:00+08:00">
                2018-06-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><h3 id="DOM查询"><a href="#DOM查询" class="headerlink" title="DOM查询"></a>DOM查询</h3><pre><code>1. 通过domcument对象获取元素节点：
    1. getElementById(&quot;id&quot;)：通过id属性获取一个元素节点对象；
    2. getElementsByTagName(&quot;tag&quot;)：通过标签名获取一组元素节点对象；
    2. getElementsByTagName(&quot;*&quot;)：支持通配符，获取所有节点对象；
    3. getElementsByName(&quot;name&quot;)：通过name属性获取一组元素节点对象。
    4. 获取元素节点的属性值：节点对象.属性名，但对于class属性，节点对象.className
1. 通过具体的元素节点对象获取其子节点：
    1. childNodes：获取其所有的子节点，包括文本节点、换行、标签间的空白等，但IE8不会；
    2. children：获取所有的子元素，只获取标签元素，且是直接子元素；
    3. firstChild/lastChild：获取第一个/最后一个子节点，也包括文本节点、换行，空白等；
    4. firstElementChild：获取第一个标签元素，不兼容&lt;=IE8；
2. 获取父节点和兄弟节点：
    1. parentNode：获取当前节点的父节点；
    2. previousSibling/nextSibling：获取前/后一个兄弟节点；
    3. previousElementSibling：获取前一个兄弟标签元素，也不兼容&lt;=IE8；
    4. innerText/innerHTML/textContent：都可以获取一个标签的内容，innerHTML的内容包含
    子标签，而innerText和textContent只获取标签内的字符串文本；
    5. 只获取标签内自己的字符串：firstChild.nodeValue，没有字符串文本，则返回空字符串；
    对于不能做父元素的标签，如&lt;img/&gt;, 其firstChild为null
3. 每个节点(包括文本节点)都具有的3个属性：nodeName、nodeType、nodeValse
    1. 文档节点：nodeName =&gt;#document、nodeType =&gt;9、nodeValse =&gt;null
    2. 元素节点：标签名、1、null
    3. 属性节点：属性名、2、属性值
    4. 文本节点：#text、3、文本内容
4. document.documentElement/body：获取&lt;html&gt;/&lt;body&gt;的元素对象；
5. document.all/document.getElementsByTagName(&quot;*&quot;)：获取所有节点的标签元素；
6. getElementsByClassName(&apos;选择器名称&apos;)：根据class属性值获取一组元素，兼容到&gt;=IE8
7. querySelector(&apos;CSS选择器&apos;)：根据CSS选择器获取标签元素，只返回第一个，兼容到&gt;=IE8；
8. querySelectorAll(&apos;CSS选择器&apos;)：返回一组标签元素；
9. HTML是自顶向下解析的，不能提前获取document节点
    1. 在&lt;body&gt;标签之后使用&lt;script&gt;，可以获取节点对象；
    2. window.onload = function(){ ... }：等待HTML文档加载并渲染完成再执行；
</code></pre><h3 id="DOM增删改"><a href="#DOM增删改" class="headerlink" title="DOM增删改"></a>DOM增删改</h3><pre><code>1. appendChild()/removeChild()/replaceChild()：添加/删除/替换子节点；
2. insertBefore(newNode, oldNode)：在指定的子节点前插入新的子节点；
3. createElement()/createAttribute()/createTextNode()：创建元素/属性/文本节点；
    var li = document.createElement(&quot;li&quot;); --&gt; 创建一个&lt;li&gt;
    var text = document.createTextNode(&quot;Mark&quot;); --&gt; 创建文本节点
    li.appendChild(text); --&gt; 把文本节点添加到&lt;li&gt;中
4. innerHTML也可以完成DOM的增删改：li.innerHTML=&quot;&lt;span&gt;Smith&lt;/span&gt;&quot;;
    var li = document.createElement(&quot;li&quot;);
    li.innerHTML = &quot;Mark&quot;; --&gt; create与innerHTML结合使用
5. setAttribute()/getAttribute()：设置/获取指定的属性；
6. confirm(str)：确认/取消提示框，带有确认和取消按钮，返回true/false；
    &lt;button&gt;Button-1&lt;/button&gt; &lt;button&gt;Button-2&lt;/button&gt;
window.onload=function(){
    var btns = document.getElementsByTagName(&quot;button&quot;)
    for (var i=0; i&lt;btns.length; i++) {
        btn[i].onclick=function(){
            confirm(this.innerHTML); --&gt; this指向当前button对象
            confirm(btns[i].innerHTML); --&gt;报异常undefined，此时的i=btns.length
        }; --&gt; 页面加载完成，首先执行的是for循环，而不会执行函数；
    } --&gt; 在点击按钮时，此时的i=btns.length，所以报异常；
}; --&gt; 而函数内的this始终指向调用者，所以可以正常执行。
</code></pre><h3 id="DOM操作CSS"><a href="#DOM操作CSS" class="headerlink" title="DOM操作CSS"></a>DOM操作CSS</h3><h4 id="JS修改元素样式"><a href="#JS修改元素样式" class="headerlink" title="JS修改元素样式"></a>JS修改元素样式</h4><pre><code>1. 选择器中的样式是无法获取，也无法修改的，但可以操作元素的内联样式，其优先级高于选择器；
2. 元素对象.style.样式名 = &quot;样式值&quot;，通用写法：元素对象.style[&quot;样式名&quot;] = &quot;样式值&quot;
3. 对于&quot;-&quot;连接的属性，则去掉&quot;-&quot;，并把后面的首字母大写：btn.style.fontSize=&quot;20px&quot;;
4. 通用形式则不需要去掉属性名中的连接符：btn.style[&quot;font-size&quot;]=&quot;20px&quot;;
5. &lt;style&gt;中的选择器应避免使用&quot;!important&quot;，它表示样式的最高优先级，内联样式也无法覆盖；
6. element.setAttribute(&apos;style&apos;, &apos;width:20px;height:30px;&apos;)：设置元素的style属性；
7. element.setAttribute(&apos;style&apos;)：移除元素的style属性，也即删除style样式；
8. 如果要修改多个样式，可以在&lt;style&gt;中预定义CSS样式选择器，再赋值给元素的className属性，
   这种方式的性能比较高，也使得JS和CSS更好的分离。
</code></pre><h4 id="JS获取元素样式"><a href="#JS获取元素样式" class="headerlink" title="JS获取元素样式"></a>JS获取元素样式</h4><pre><code>1. element.style：获取的是当前元素上的所有内联样式，包括默认存在的内联样式；
2. element.style.样式名、element.style[&quot;样式名&quot;]：根据属性名获取内联样式的属性；
    1. 获取的只是内联样式上的属性，如果内联样式上没有手动设置该属性，则获取的属性值为&apos;&apos;；
    2. element.style.cssText：只获取标签上手动设置的CSS样式，是一个字符串；
    element.style.cssText = &quot;width:100%;font-size:16px;&quot; --&gt;修改/添加内联样式
3. element.getAttribute(&apos;style&apos;)：获取标签上的style属性值，同element.style.cssText
4. element.currentStyle.样式名：IE独有的，获取元素当前正在使用的所有样式信息；
    1. 如果没有手动设置样式的默认值，则返回auto；
5. getComputedStyle(element, null)：window的方法，获取元素当前正在使用的的所有样式；
    let sty = getComputedStyle(btn, null)
    1. sty[&quot;background-color&quot;]返回的是rgb值，btn.style[&quot;background-color&quot;]返回的是
    当前样式中设置的background-color属性值；
    2. 不兼容&lt;=IE8
6. currentStyle和getComputedStyle()获取的属性都是只读的，不能修改；
7. 获取CSS样式属性的兼容方式：
    function getStyle(element, styleName) {
        if(window.getComputedStyle) {
            return getComputedStyle(element, null)[styleName];
        } else { --&gt; IE8的window中没有getComputedStyle，则返回undefined，即false
            return element.currentStyle[styleName];
        } --&gt; 属性styleName要显示设置一个默认值，否则浏览器可能返回auto
    }
</code></pre><h3 id="DOM属性事件"><a href="#DOM属性事件" class="headerlink" title="DOM属性事件"></a>DOM属性事件</h3><pre><code>1. clientWidth/clientHeight：获取元素的可见宽高，不带单位px，返回的是数值；
    1. clientWidth = width + paddingLeft + paddingRight
    2. clientWidth和clientHeight都是只读属性；
    3. 浏览器窗口的宽度/高度：document.documentElement.clientWidth/clientHeight
2. scrollWidth/scrollHeight：获取元素的滚动区域宽高；
    1. 如果元素区域带有滚动条，clientWidth/clientHeight只能获取滚动窗口内可见的宽高，
    而scrollWidth/scrollHeight获取的宽高，包含滚动窗口外的宽高；
    2. clientWidth/clientHeight获取的宽高包含滚动条的宽度/高度；
    3. scrollLeft/scrollTop：水平/垂直滚动的距离；
    4. 当垂直滚动条滚到底部时，clientHeight == scrollHeight-scrollTop
    5. element.onscroll = function(){}; --&gt; 绑定滚动条滚动事件
3. offsetWidth/offsetHeight：获取元素的整个宽度和高度，width+padding+border
4. offsetParent：获取距离最近的、使用了定位的父元素对象，如果都没有定位，则返回body；
5. offsetLeft/offsetTop：当前元素相对于其定位父元素的水平/垂直偏移量，都是只读的属性；
1. 上传图片
    &lt;input type=&quot;file&quot; accept=&quot;image/*&quot; onchange=&quot;uploadImg(this)&quot; /&gt;
    1. accept：指定上传文件的类型，打开资源管理器展示的文件类型；
    2. onchange：&lt;input/&gt;中的内容发生变化时的事件；
    3. 预览图片，FileReader是H5提供的，用于读取文件
    uploadImg(ev) {
        let file = ev.files[0]
        let reader = new FileReader() --&gt;创建FileReader对象
        reader.onloadstart = function (e) { //开始读取 }
        reader.onprogress = function (e) { //正在读取中 }
        reader.onabort = function (e) { //中断读取 }
        reader.onerror = function (e) { //读取异常 }
        reader.onload = function (e) { ---&gt;读取成功的回调
            let img = document.querySelector(&quot;input[type=file]&quot;)
            img.src = e.target.result
        }
        reader.readAsDataURL(file) ---&gt;开始读取本地选择的文件
    }
1. element.onmousemove = function(event){}：鼠标在元素中移动时被触发；
    1. 回调的参数event中封装了所有信息，如鼠标的水平/垂直坐标：clientX/clientY
    2. 但在IE8中不会回调event，而是将事件对象保存在window的属性中：window.event
    3. clientX/clientY只针对当前浏览器的可见窗口，窗口左上角的坐标始终是(0, 0)；
    4. pageX/pageY：鼠标相对于当前页面的坐标，页面左上角的坐标才是(0, 0)，不兼容IE8；
2. 页面垂直滚动时，scrollTop的兼容性：获取页面滚动的距离；
    1. document.body.scrollTop：只适用于Chrome浏览器，其他浏览器返回0；
    2. document.documentElement.scrollTop：适用于Foxfire、IE，但Chrome仍返回0；
    3. 水平方向滚动时，scrollLeft同理。
3. 事件冒泡：如果父节点和子节点绑定了相同的事件，那么触发子节点事件时，父节点也会触发；
    1. 事件只会向上传递父节点的相同事件，不会向下传递；
    2. 阻止事件冒泡：event.stopPropagation(); --&gt; 不兼容IE
    3. IE浏览器特有的阻止事件冒泡：window.event.cancelBubble = true;
4. 事件委托：多个子元素需要注册同一种事件时，给其共同的父元素注册该事件，事件响应时，通过
   回调参数event获取每个子元素，根据不同的子元素，执行不同的代码；
    &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;javascript:;&quot;&gt;超链接一&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;javascript:;&quot;&gt;超链接二&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;
    var uls = document.getElementsByTagName(&quot;ul&quot;)[0];
    uls.onclick = function(event) {
        event = event || window.event; --&gt; 兼容IE
        var node = event.target; --&gt; 获取当前点击的子元素节点对象
    };
    1. event.currentTarget 与 event.target：
    2. click事件实际注册到&lt;ul&gt;标签上，event.target获取的是实际点击标签的元素对象；
    点击&lt;li&gt;，则event.target就是&lt;li&gt;对象，点击&lt;a&gt;，则event.target就是&lt;a&gt;对象；
    3. event.currentTarget获取的是实际注册click事件的元素对象，点击&lt;a&gt;、&lt;li&gt;、&lt;ul&gt;，
    event.currentTarget都是&lt;ul&gt;对象。
5. 函数节流：
    1. JS中有些事件的触发频率特别高，比如：onresize，onmousemove
    2. 对于短时间内高频率触发的函数，可以在函数内使用定时器减少触发次数，实现函数节流；
    3. 在触发定时器之前，先清除一次定时器，只保留最后一次定时器任务；
    clearTimeout(timer); timer = setTimeout(function{ ... }, 200);
4. addEventListener(&quot;事件名&quot;, function, false)：事件绑定，事件名不带&quot;on&quot;；
    1. element.onclick=function(event){}; -&gt;属性的方式绑定事件，多次绑定同一事件时，
    最后一次绑定会覆盖之前的事件；
    2. addEventListener()可以重复绑定同一事件，响应事件时，从第一次绑定时开始响应；
    uls.addEventListener(&apos;click&apos;, function(){}, false); --&gt; 绑定click事件
    3. removeEventListener(&apos;事件名&apos;, callback)：移除绑定的事件，callback并不是移除
    事件的回调，而是addEventListener()的回调函数名，因为它可以对同一事件绑定多次；
    4. addEventListener()只兼容到IE9，而在IE8中，绑定事件使用attachEvent()
    5. attachEvent(&quot;事件名&quot;, function)：事件名中带&quot;on&quot;，也可以多次绑定同一个事件，
    但事件的响应顺序与addEventListener()相反；
    6. addEventListener()中的this指向绑定事件的对象，而attachEvent()中指向window；
    7. 兼容性：
    function bind(obj, event, callback) {
        if(obj.addEventListener) {
            obj.addEventListener(event, callback, false);
        } else {
            obj.attachEvent(&quot;on&quot;+event, function() {
                callback.call(obj);  --&gt; 让回调函数中的this指向绑定的对象
            });
        }
    }
5. 事件的传播：
    1. 微软公司认为事件应该从内向外，即事件冒泡的形式；而网景公司认为恰恰相反；
    2. W3C综合两种方案，将事件传播分为3个阶段：捕获阶段、目标阶段、冒泡阶段
    3. 捕获阶段：事件从最外层的父元素，向目标子元素进行事件的捕获，但默认此时不会触发事件；
    4. 目标阶段：事件捕获到目标元素，捕获结束，开始在目标元素上触发事件；
    5. 冒泡阶段：事件从目标元素向父元素传递，并依次触发父元素上的事件；
    6. 在捕获阶段也触发事件：addEventListener(&quot;事件名&quot;, function, true)
    7. IE&lt;=8没有事件捕获阶段。
6. 鼠标按下/移动/松开：onmousedown、onmousemove、onmouseup
    1. 拖拽网页中的内容时，浏览器默认会执行搜索内容，导致拖拽功能异常；
    2. return false; --&gt; 禁止默认行为，但不兼容IE8
    3. element.setCapture(); --&gt; 捕获element绑定的相关事件，优先响应；
    4. element.releaseCapture(); --&gt; 释放捕获；
    5. 但是，setCapture()只有IE支持，Firefox不会报错，Chrome会报错；
    element.setCapture &amp;&amp; element.setCapture(); --&gt; 有setCapture()方法，则执行
6. 鼠标拖拽标签：
    element.onmousedown = function(e){ --&gt; 给被拖拽的标签注册鼠标的按下事件
        if (event.button != 0) return; --&gt; 只有鼠标左键按下才有效
        element.setCapture&amp;&amp;element.setCapture() --&gt; 兼容IE
        document.onmousemove = function(e){ --&gt;把移动事件注册到document上，防止卡顿
            ...... ----------------&gt; 更改标签的left/top，达到移动效果
            e.preventDefault(); ---&gt; 阻止浏览器的默认行为
        }
        document.onmouseup = function(e){ --&gt;抬起事件也必须注册到document上，任何地方
            document.onmousemove = null; ----&gt; 都可以取消事件
            document.onmouseup = null;
            document.releaseCapture&amp;&amp;document.releaseCapture(); --&gt; 兼容IE
        }
        //屏蔽第二次拖拽时的鬼影，return false 无效
        event.preventDefault();
        event.stopPropagation();
    }
7. 鼠标滚轮：onmousewheel，但Firefox不支持，而是使用DOMMouseScroll，而且火狐必须通过
   addEventListener()绑定滚轮事件；
    1. event.wheelDelta：鼠标滚轮滚动的方向，只看正负，不管大小，负值表示向下滚动；
    2. FireFox也不支持event.wheelDelta，而是使用event.detail，正数表示向下滚；
    3. 如果浏览器有滚动条，滚动鼠标滚轮将执行浏览器的默认行为，而不会执行元素的滚轮事件；
    element.onmousewheel=function(event){
        return false; --&gt; 阻止浏览器的默认行为，执行元素的滚轮事件；
    };
    element.addEventListener(&quot;DOMMouseScroll&quot;, function(event){
        event.preventDefault &amp;&amp; event.preventDefault(); --&gt; 阻止浏览器的默认行为
    }, false);
    4. &quot;return false;&quot;在addEventListener()注册的事件中，无法阻止浏览器的默认行为，必须
    使用tevent.preventDefault();
8. 鼠标右击事件：oncontextmenu
9. 键盘事件：onkeydown(按下)、onkeyup(松开)、onkeypress(按下并松开)
    1. 键盘事件一般绑定给可以获取焦点的元素对象，或者document，比如&lt;input /&gt;输入框；
    2. 对于onkeydown，如果长时间按下一个按键，那么事件将一直触发，而且第一次和第二次
    触发的时间间隔会比第二次之后的时间间隔长一些，为了避免误操作；
    3. event.KeyCode：获取按键的编码，从而判断按键的类型，如y=89
    4. altKey、ctrlKey、shiftKey：判断Alt、Ctrl、Shift键是否被按下；
    event.keyCode===89 &amp;&amp; event.ctrlKey --&gt; Ctrl+y
    5. &lt;input /&gt;的onkeydown事件默认行为就是输入内容，&quot;return false;&quot;可以阻止输入。
9. 阻止默认行为：return false; 与 event.preventDefault();
    1. 在jQuery中，return false;相当于同时调用preventDefault()和stopPropagation()；
    2. IE不支持preventDefault()，需要使用：window.event.returnValue = false;
    3. 在原生JS中，addEventListener()/attachEvent()绑定的事件中，不支持return false
    阻止默认行为，必须使用preventDefault()、window.event.returnValue=false
    4. H5规范指出，在mouseover等几种特殊事件中，return false; 并不一定能终止事件，所以
    H5建议尽量不要使用return false来阻止事件的默认行为。
</code></pre><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><pre><code>BOM：浏览器对象模型，可以让我们通过JS来操作浏览器；
1. BOM对象：Window、Navigator、Location、History、Screen
    1. Window：代表整个浏览器窗口，同时，window也是网页中的全局对象；
    2. Navigator：表示当前浏览器的信息，可以用来识别不同的浏览器；
    3. Location：浏览器的地址栏，可以获取地址栏信息，操作浏览器跳转页面；
    4. History：表示浏览器的历史纪录，但由于隐私原因，不能获取到具体的历史纪录，只能操作
    浏览器向前/后退，而且只在当次访问时有效，关闭之后再打开则无效；
    5. Screen：表示拥护的屏幕信息，可以获取显示器的相关信息，常用于移动端；
    6. 这些BOM对象在浏览器中都是作为window对象的属性保存的，又因为window是全局的对象，
    可以直接使用这些对象，而不用通过window.navigator调用；
2. Navigator
    1. 由于历史原因，navigator对象中的大部分属性都已经不能识别浏览器了；
    2. 一般只会使用userAgent来判断浏览器的信息：navigator.userAgent
    3. IE11中的userAgent已经去除了微软和IE的相关标识，不能通过userAgent来准确识别IE；
    4. window.ActiveXObject：IE特有的函数，根据这些特有的信息获取浏览器的类型；
    if(window.ActiveXObject) --&gt; 微软发现了这种判断方式，所以在IE11返回的是false
    但并不意味着IE11中没有该对象：if(&quot;ActiveXObject&quot; in window) --&gt; true
3. History
    1. length：浏览器历史列表中的URL数量；
    2. back()/forward()：加载前/下一个，回退/前进一个页面；
    3. go()：加载某个具体页面，go(1)相当于forward()，go(-1)相当于back()；
4. Location
    1. location可以获取地址栏的完成信息，也可以直接操作地址栏，同window.location
    2. 属性：hash、host、hostname、href、pathname、port、protocol、search
    5. location.href = &quot;https://www.baidu.com/&quot;：重定向到一个新的网站，会生成历史纪录
    6. location = &quot;/login/login.html&quot;：重定向到新的页面，当前域名/login/login.html
    1. window.location.search：获取地址的参数部分，?...
    2. window.location.hash：获取页面的锚点，#...
    1. assign()：加载新的文档，assign(&quot;https://www.baidu.com/&quot;)
    2. reload()：刷新，默认刷新带有缓存，reload(true)：强制清空缓存刷新
    3. replace()：用新的文档替换当前文档，不会生成历史纪录，即不能回退。
5. window.open()：开启一个新的窗口，加载文档
</code></pre><h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><pre><code>setTimeout()、setInterval()、clearTimeout()、clearInterval()
1. 延迟任务：
    1. setTimeout(function, time)：time毫秒之后执行function，返回Number型的数据；
    2. clearTimeout(timer)：即使timer是undefined，也不会报错，什么也不做；
2. 定时任务
    1. setInterval(function, time)：每隔time毫秒执行一次function；
    2. clearInterval(timer)：清除定时器；
</code></pre><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><pre><code>1. JSON：JavaScript Object Notation，JS对象表示法
    1. JSON和JS对象的格式一样，只不过JSON字符串中的属性名必须加双引号；
    var str = &apos;{&quot;name&quot;: &quot;Mack&quot;, &quot;age&quot;: 18}&apos;;
    3. JSON类型：对象{}，数组[]
    4. JSON中允许的属性值：字符串、数值、布尔值、null、对象、数组
2. JSON字符串与JS对象相互转换：JSON
    1. JSON.parse(str)：JSON字符串转JS对象；
    2. JSON.stringify(obj)：JS对象转JSON字符串；
    3. IE7不支持JSON，可以使用eval(str)函数，将一个字符串转为有效的表达式；
    var obj = eval(&quot;(&quot; + str +&quot;)&quot;); --&gt;对字符串加&quot;()&quot;，告诉浏览器{}不是一个代码块；
    ==&gt; obj = {&quot;name&quot;: &quot;Mack&quot;, &quot;age&quot;: 18}
    4. 但是，eval()的性能比较低，而且存在安全隐患，转换的字符串可能是一段有害的JS代码.
</code></pre><hr>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/06/01/JS-基础/" rel="next" title="JS-基础">
                <i class="fa fa-chevron-left"></i> JS-基础
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/06/05/JS-高级/" rel="prev" title="JS-高级">
                JS-高级 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">大麦田怪圈</p>
              <p class="site-description motion-element" itemprop="description">敢做就能赢！</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">36</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM"><span class="nav-number">1.</span> <span class="nav-text">DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM查询"><span class="nav-number">1.1.</span> <span class="nav-text">DOM查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM增删改"><span class="nav-number">1.2.</span> <span class="nav-text">DOM增删改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM操作CSS"><span class="nav-number">1.3.</span> <span class="nav-text">DOM操作CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JS修改元素样式"><span class="nav-number">1.3.1.</span> <span class="nav-text">JS修改元素样式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JS获取元素样式"><span class="nav-number">1.3.2.</span> <span class="nav-text">JS获取元素样式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM属性事件"><span class="nav-number">1.4.</span> <span class="nav-text">DOM属性事件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BOM"><span class="nav-number">2.</span> <span class="nav-text">BOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定时器"><span class="nav-number">3.</span> <span class="nav-text">定时器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSON"><span class="nav-number">4.</span> <span class="nav-text">JSON</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">大麦田怪圈</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
